!function(a,b,c,d,e){"use strict";b.blazy=b.blazy||{},b.behaviors.gridstack={grids:null,config:{},breakpoints:null,windowWidth:0,options:{},serializedData:null,attach:function(b){var d=this,e={mobileFirst:!1,itemClass:"gridstack__box",handle:".box__content"},f=c.gridstack||{},g=a(".gridstack:not(.ungridstack)",b);g.once("gridstack").each(function(){var b=a(this),c=a("> .gridstack__box:visible",b);d.config=b.data("config")||{},d.options=a.extend({},f,e,d.config),b.gridstack(d.options),d.grids=b.data("gridstack"),d.breakpoints=b.data("breakpoints")||null,d.serializedData=d.serialized(c),d.onResize(b),d.cleanUp(b,c)})},cleanUp:function(a,b){a.hasClass("grid-stack-static")&&b.removeClass(function(a,b){return(b.match(/(^|\s)ui-\S+/g)||[]).join(" ")}).find(".ui-resizable-handle").remove(),a.removeClass("grid-stack-12"),a.removeAttr("data-config data-sm-grids data-md-grids")},serialized:function(b){var c=this,e=d.map(b,function(b){var c=a(b).data("_gridstack_node"),d={x:c.x,y:c.y,width:c.width,height:c.height};return d},c);return e},resizeGrid:function(a){var b=this,c=b.config.minWidth;b.windowWidth<=c?a.removeClass("gridstack--enabled").addClass("gridstack--disabled"):a.removeClass("gridstack--disabled").addClass("gridstack--enabled"),d.isNull(b.breakpoints)||b.updateGrid(a)},updateGrid:function(b){var c=this,e=null,f=d.keys(c.breakpoints),g=parseInt(d.last(f)),h=null,i=null,j=f.sort(function(a,b){return c.options.mobileFirst?a-b:b-a});d.each(j,function(a,b){c.windowWidth<=a?(h=c.breakpoints[a],i=a):c.windowWidth>=g&&(h=c.breakpoints[g],i=g)}),d.isNull(h)||(c.grids.setGridWidth(h),e=c.activeGrid(b,i,g),d.isNull(e)||d.each(e,function(e,f){var g=a("> .gridstack__box:visible",b).eq(f);e=d.isObject(e)?d.values(e):e,c.grids.update(g,e[0],e[1],e[2],e[3])}))},activeGrid:function(a,b,c){var d=this,e=d.serializedData,f=a.data("mdGrids"),g=a.data("mdWidth"),h=a.data("smGrids"),i=a.data("smWidth");if(i||g){if(c<=b)return e;if(g<=b)return f;if(i<=b)return h}return null},onResize:function(a){var c=this;c.windowWidth=b.blazy.windowWidth,c.resizeGrid(a),a.on("resizing",function(){c.windowWidth=b.blazy.windowWidth,c.resizeGrid(a)})}}}(jQuery,Drupal,drupalSettings,_,this);
